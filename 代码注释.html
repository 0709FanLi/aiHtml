<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI 代码注释生成工具 | 智能注释，提高开发效率</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <style>
      :root {
        --primary: #4263eb;
        --primary-dark: #3b5bdb;
        --secondary: #6c63ff;
        --dark: #1e1e1e;
        --light: #f8f9fa;
        --gray: #495057;
        --success: #37b24d;
        --warning: #f59f00;
        --danger: #e03131;
        --text: #212529;
        --border-radius: 8px;
        --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        --font-mono: "Fira Code", "Consolas", monospace;
        --transition: all 0.3s ease;
      }
      /* Reset Styles */
      *,
      *::before,
      *::after {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Inter", -apple-system, BlinkMacSystemFont, sans-serif;
        color: var(--text);
        background-color: var(--light);
        line-height: 1.6;
      }

      .container {
        width: 100%;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header */
      header {
        background-color: var(--dark);
        padding: 15px 0;
        position: sticky;
        top: 0;
        z-index: 1000;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      .nav {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo {
        display: flex;
        align-items: center;
        color: white;
        text-decoration: none;
        font-weight: 700;
        font-size: 24px;
      }

      .logo span {
        color: var(--primary);
      }

      .logo i {
        margin-right: 10px;
        color: var(--secondary);
      }

      .nav-links {
        display: flex;
        list-style: none;
      }

      .nav-links li {
        margin-left: 25px;
      }

      .nav-links a {
        color: white;
        text-decoration: none;
        font-weight: 500;
        transition: var(--transition);
      }

      .nav-links a:hover {
        color: var(--secondary);
      }

      .auth-buttons {
        display: flex;
        gap: 10px;
      }

      .btn {
        padding: 8px 16px;
        border-radius: var(--border-radius);
        cursor: pointer;
        font-weight: 500;
        transition: var(--transition);
        border: none;
        font-size: 14px;
      }

      .btn-outline {
        background: transparent;
        border: 1px solid white;
        color: white;
      }

      .btn-outline:hover {
        background-color: rgba(255, 255, 255, 0.1);
      }

      .btn-primary {
        background-color: var(--primary);
        color: white;
      }

      .btn-primary:hover {
        background-color: var(--primary-dark);
      }

      /* Hero Section */
      .hero {
        padding: 80px 0 40px;
        text-align: center;
      }

      .hero h1 {
        font-size: 3rem;
        margin-bottom: 20px;
        background: linear-gradient(90deg, var(--primary), var(--secondary));
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-weight: 800;
      }

      .hero p {
        font-size: 1.2rem;
        color: var(--gray);
        max-width: 700px;
        margin: 0 auto 40px;
      }

      /* Main Content */
      .main-content {
        padding: 40px 0;
      }

      .card {
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        padding: 30px;
        margin-bottom: 30px;
      }

      .card-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #eee;
      }

      .card-title {
        font-size: 1.5rem;
        font-weight: 700;
      }

      /* Tabs */
      .tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #eee;
      }

      .tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        font-weight: 500;
        transition: var(--transition);
      }

      .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* Code Input */
      .code-textarea {
        width: 100%;
        height: 300px;
        padding: 15px;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);
        font-family: var(--font-mono);
        resize: vertical;
        transition: var(--transition);
      }

      .code-textarea:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 2px rgba(66, 99, 235, 0.1);
      }

      .file-upload {
        border: 2px dashed #ddd;
        padding: 50px;
        text-align: center;
        border-radius: var(--border-radius);
        transition: var(--transition);
        cursor: pointer;
      }

      .file-upload:hover {
        border-color: var(--primary);
      }

      .file-upload i {
        font-size: 48px;
        color: var(--gray);
        margin-bottom: 15px;
      }

      .file-upload p {
        color: var(--gray);
      }

      .file-upload input {
        display: none;
      }

      .btn-large {
        padding: 12px 24px;
        font-size: 16px;
        width: 100%;
        margin-top: 20px;
      }

      /* Results Section */
      .code-comparison {
        display: flex;
        gap: 20px;
      }

      .code-panel {
        flex: 1;
      }

      .code-panel-header {
        margin-bottom: 10px;
        font-weight: 500;
        color: var(--gray);
      }

      .code-display {
        background-color: var(--dark);
        color: #d4d4d4;
        border-radius: var(--border-radius);
        overflow: hidden;
        position: relative;
        height: 400px;
      }

      .code-content {
        padding: 15px 15px 15px 50px;
        font-family: var(--font-mono);
        height: 100%;
        overflow: auto;
        line-height: 1.5;
        white-space: pre;
      }

      .line-numbers {
        position: absolute;
        top: 0;
        left: 0;
        width: 40px;
        height: 100%;
        background-color: #252526;
        padding: 15px 5px;
        text-align: right;
        color: #858585;
        font-family: var(--font-mono);
        user-select: none;
      }

      .btn-success {
        background-color: var(--success);
        color: white;
      }

      .btn-success:hover {
        background-color: #2f9e44;
      }

      /* Pricing Section */
      .pricing {
        padding: 60px 0;
        text-align: center;
      }

      .pricing-header {
        margin-bottom: 50px;
      }

      .pricing-header h2 {
        font-size: 2.5rem;
        margin-bottom: 15px;
      }

      .pricing-header p {
        color: var(--gray);
        max-width: 600px;
        margin: 0 auto;
      }

      .pricing-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
        max-width: 1200px;
        margin: 0 auto;
      }

      .pricing-plan {
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        overflow: hidden;
        transition: var(--transition);
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .pricing-plan:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
      }

      .plan-header {
        background-color: var(--dark);
        color: white;
        padding: 20px;
      }

      .plan-name {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 5px;
      }

      .plan-price {
        font-size: 32px;
        font-weight: 700;
        margin-bottom: 5px;
      }

      .plan-duration {
        font-size: 14px;
        opacity: 0.8;
      }

      .plan-features {
        padding: 20px;
        display: flex;
        flex-direction: column;
        flex: 1;
      }

      .feature-list {
        list-style: none;
        margin-bottom: 20px;
        text-align: left;
        flex-grow: 1;
      }

      .feature-list li {
        padding: 8px 0;
        display: flex;
        align-items: center;
      }

      .feature-list i {
        color: var(--success);
        margin-right: 10px;
      }

      /* Modal */
      .modal-backdrop {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 1050;
        opacity: 0;
        visibility: hidden;
        transition: var(--transition);
      }

      .modal-backdrop.active {
        opacity: 1;
        visibility: visible;
      }

      .modal {
        background-color: white;
        border-radius: var(--border-radius);
        width: 90%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        transform: translateY(-20px);
        transition: var(--transition);
      }

      .modal-backdrop.active .modal {
        transform: translateY(0);
      }

      .modal-header {
        padding: 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-title {
        font-size: 1.5rem;
        font-weight: 700;
      }

      .modal-close {
        background: transparent;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--gray);
      }

      .modal-body {
        padding: 20px;
      }

      .modal-footer {
        padding: 20px;
        border-top: 1px solid #eee;
        text-align: right;
      }

      /* Form Styles */
      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
      }

      .form-control {
        width: 100%;
        padding: 10px 15px;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);
        font-size: 16px;
        transition: var(--transition);
      }

      .form-control:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 2px rgba(66, 99, 235, 0.1);
      }

      .form-text {
        font-size: 14px;
        color: var(--gray);
        margin-top: 5px;
      }

      /* User Menu */
      .user-menu {
        position: relative;
        display: none;
      }

      .user-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background-color: var(--primary);
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
      }

      .user-avatar:hover {
        background-color: var(--primary-dark);
      }

      .dropdown-menu {
        position: absolute;
        top: calc(100% + 10px);
        right: 0;
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
        min-width: 200px;
        display: none;
        z-index: 1000;
      }

      .dropdown-menu.active {
        display: block;
      }

      .user-info {
        padding: 15px;
        border-bottom: 1px solid #eee;
      }

      .user-name {
        font-weight: 600;
      }

      .user-email {
        font-size: 14px;
        color: var(--gray);
      }

      .dropdown-list {
        list-style: none;
      }

      .dropdown-item {
        padding: 10px 15px;
        display: flex;
        align-items: center;
        color: var(--text);
        text-decoration: none;
        transition: var(--transition);
      }

      .dropdown-item:hover {
        background-color: rgba(0, 0, 0, 0.05);
      }

      .dropdown-item i {
        margin-right: 10px;
        color: var(--gray);
        width: 20px;
        text-align: center;
      }

      .divider {
        height: 1px;
        background-color: #eee;
        margin: 5px 0;
      }

      .logout-item {
        color: var(--danger);
      }

      .logout-item i {
        color: var(--danger);
      }

      /* Dashboard */
      .dashboard {
        display: none;
      }

      .dashboard-tabs {
        display: flex;
        margin-bottom: 20px;
        border-bottom: 1px solid #eee;
      }

      .dashboard-tab {
        padding: 10px 20px;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        font-weight: 500;
        transition: var(--transition);
      }

      .dashboard-tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
      }

      .dashboard-content {
        display: none;
      }

      .dashboard-content.active {
        display: block;
      }

      .credit-badge {
        display: inline-flex;
        align-items: center;
        background-color: rgba(66, 99, 235, 0.1);
        color: var(--primary);
        padding: 5px 10px;
        border-radius: 20px;
        font-weight: 600;
      }

      .credit-badge i {
        margin-right: 5px;
      }

      .history-item {
        border: 1px solid #eee;
        border-radius: var(--border-radius);
        padding: 15px;
        margin-bottom: 15px;
        transition: var(--transition);
      }

      .history-item:hover {
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      .history-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }

      .history-title {
        font-weight: 600;
      }

      .history-date {
        font-size: 14px;
        color: var(--gray);
      }

      .history-preview {
        background-color: #f5f5f5;
        padding: 10px;
        border-radius: 4px;
        font-family: var(--font-mono);
        margin-bottom: 10px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      .history-actions {
        display: flex;
        gap: 10px;
      }

      .btn-sm {
        padding: 5px 10px;
        font-size: 14px;
      }

      /* Payment Options */
      .payment-options {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
      }

      .payment-option {
        flex: 1;
        border: 1px solid #ddd;
        border-radius: var(--border-radius);
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: var(--transition);
      }

      .payment-option:hover {
        border-color: var(--primary);
      }

      .payment-option.selected {
        border-color: var(--primary);
        background-color: rgba(66, 99, 235, 0.05);
      }

      .payment-option i {
        font-size: 24px;
        color: var(--gray);
        margin-bottom: 10px;
      }

      /* Code Highlighting */
      .code-annotation {
        background-color: rgba(108, 99, 255, 0.1);
        border-left: 3px solid var(--secondary);
        margin-left: -3px;
        padding-left: 10px;
      }

      .annotation-comment {
        color: #6c63ff;
        font-style: italic;
      }

      /* Loading Indicator */
      .loader {
        display: none;
        width: 48px;
        height: 48px;
        border: 4px solid rgba(66, 99, 235, 0.1);
        border-radius: 50%;
        border-top-color: var(--primary);
        margin: 30px auto;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* Success Checkmark */
      .checkmark {
        display: none;
        width: 48px;
        height: 48px;
        margin: 30px auto;
        border-radius: 50%;
        background-color: var(--success);
        position: relative;
        animation: scale 0.3s ease-in-out;
      }

      .checkmark::after {
        content: "";
        position: absolute;
        top: 14px;
        left: 17px;
        width: 14px;
        height: 8px;
        border-left: 3px solid white;
        border-bottom: 3px solid white;
        transform: rotate(-45deg);
      }

      @keyframes scale {
        0% {
          transform: scale(0);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Footer */
      footer {
        background-color: var(--dark);
        color: white;
        padding: 40px 0;
        text-align: center;
      }

      .footer-content {
        max-width: 600px;
        margin: 0 auto;
      }

      .footer-logo {
        font-size: 24px;
        font-weight: 700;
        margin-bottom: 20px;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
      }

      .footer-links a {
        color: #adb5bd;
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: white;
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .social-icon {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        text-decoration: none;
        transition: var(--transition);
      }

      .social-icon:hover {
        background-color: var(--primary);
        transform: translateY(-3px);
      }

      /* Responsive */
      @media (max-width: 992px) {
        .code-comparison {
          flex-direction: column;
        }
      }

      @media (max-width: 768px) {
        .nav-links {
          display: none;
        }

        .hero h1 {
          font-size: 2.5rem;
        }

        .pricing-grid {
          grid-template-columns: 1fr;
          max-width: 400px;
        }
      }

      @media (max-width: 576px) {
        .hero h1 {
          font-size: 2rem;
        }

        .card {
          padding: 20px;
        }

        .form-control {
          padding: 8px 12px;
        }
      }

      /* Privacy Content Styles */
      .privacy-content {
        max-height: 70vh;
        overflow-y: auto;
        font-size: 14px;
        line-height: 1.6;
      }

      .privacy-content h3 {
        color: var(--primary);
        margin: 20px 0 10px;
        font-size: 18px;
      }

      .privacy-content p,
      .privacy-content li {
        margin-bottom: 10px;
        color: var(--text);
        line-height: 1.6;
      }

      .privacy-content ul {
        padding-left: 20px;
        margin-bottom: 15px;
      }

      .privacy-content .last-updated {
        font-style: italic;
        color: var(--gray);
        text-align: right;
        margin-top: 30px;
      }

      .privacy-content::-webkit-scrollbar {
        width: 8px;
      }

      .privacy-content::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
      }

      .privacy-content::-webkit-scrollbar-thumb {
        background: rgba(66, 99, 235, 0.5);
        border-radius: 10px;
      }

      /* Privacy Policy and Terms of Service Modals */
      #privacyPolicyModal .modal,
      #termsModal .modal {
        max-width: 700px; /* 增加原来的宽度500px + 200px */
      }

      /* About Section Styles */
      .about-section {
        padding: 60px 0;
        background-color: var(--light);
      }

      .about-header {
        text-align: center;
        margin-bottom: 50px;
      }

      .about-header h2 {
        font-size: 2.5rem;
        margin-bottom: 15px;
        color: var(--dark);
      }

      .about-header p {
        font-size: 1.2rem;
        color: var(--gray);
        max-width: 700px;
        margin: 0 auto;
      }

      .about-content {
        display: flex;
        flex-direction: column;
        gap: 60px;
      }

      .about-story,
      .about-mission {
        display: flex;
        align-items: center;
        gap: 40px;
      }

      .about-mission {
        flex-direction: row-reverse;
      }

      .about-image {
        flex: 1;
        border-radius: var(--border-radius);
        overflow: hidden;
        position: relative;
        box-shadow: var(--box-shadow);
      }

      .about-image img {
        width: 100%;
        height: auto;
        display: block;
        transition: transform 0.3s ease;
      }

      .about-image:hover img {
        transform: scale(1.05);
      }

      .image-credit {
        position: absolute;
        bottom: 0;
        right: 0;
        background: rgba(0, 0, 0, 0.7);
        color: rgba(255, 255, 255, 0.7);
        padding: 5px 10px;
        font-size: 12px;
        border-top-left-radius: var(--border-radius);
      }

      .image-credit a {
        color: var(--secondary);
        text-decoration: none;
      }

      .image-credit a:hover {
        text-decoration: underline;
      }

      .about-text {
        flex: 1;
      }

      .about-text h3 {
        color: var(--primary);
        font-size: 1.8rem;
        margin-bottom: 20px;
      }

      .about-text p {
        margin-bottom: 15px;
        line-height: 1.8;
        color: var(--text);
      }

      .about-team,
      .about-values {
        text-align: center;
      }

      .about-team h3,
      .about-values h3 {
        color: var(--primary);
        font-size: 1.8rem;
        margin-bottom: 30px;
      }

      .team-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 30px;
      }

      .team-member {
        background-color: white;
        border-radius: var(--border-radius);
        padding: 20px;
        box-shadow: var(--box-shadow);
        transition: transform 0.3s ease;
      }

      .team-member:hover {
        transform: translateY(-5px);
      }

      .member-image {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        overflow: hidden;
        margin: 0 auto 15px;
        border: 3px solid var(--primary);
      }

      .member-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .team-member h4 {
        color: var(--text);
        font-size: 18px;
        margin-bottom: 5px;
      }

      .member-role {
        color: var(--primary);
        font-weight: 600;
        margin-bottom: 10px;
      }

      .member-bio {
        font-size: 14px;
        color: var(--gray);
      }

      .values-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 30px;
      }

      .value-item {
        background-color: white;
        border-radius: var(--border-radius);
        padding: 25px;
        text-align: center;
        box-shadow: var(--box-shadow);
        transition: all 0.3s ease;
      }

      .value-item:hover {
        transform: translateY(-5px);
        background-color: rgba(66, 99, 235, 0.05);
      }

      .value-item i {
        font-size: 36px;
        color: var(--primary);
        margin-bottom: 15px;
      }

      .value-item h4 {
        color: var(--text);
        font-size: 18px;
        margin-bottom: 10px;
      }

      .value-item p {
        font-size: 15px;
        color: var(--gray);
        line-height: 1.6;
      }

      .about-cta {
        text-align: center;
        padding: 40px;
        background-color: white;
        border-radius: var(--border-radius);
        box-shadow: var(--box-shadow);
      }

      .about-cta h3 {
        color: var(--primary);
        font-size: 1.5rem;
        margin-bottom: 15px;
      }

      .about-cta p {
        margin-bottom: 25px;
        color: var(--gray);
      }

      /* Responsive styles for About section */
      @media (max-width: 900px) {
        .about-story,
        .about-mission {
          flex-direction: column;
        }

        .team-grid,
        .values-grid {
          grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        }
      }

      @media (max-width: 576px) {
        .about-header h2 {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Header Navigation -->
    <header>
      <div class="container">
        <nav class="nav">
          <a href="#" class="logo">
            <i class="fas fa-code"></i>
            <span>Code</span>Annotator
          </a>
          <ul class="nav-links">
            <li><a href="#">Home</a></li>
            <li><a href="#pricing">Pricing</a></li>
            <li><a href="#">Features</a></li>
          </ul>
          <div class="auth-buttons">
            <button class="btn btn-outline login-btn">Login</button>
            <button class="btn btn-primary signup-btn">Sign Up</button>
          </div>
          <div class="user-menu">
            <div class="user-avatar">
              <i class="fas fa-user"></i>
            </div>
            <div class="dropdown-menu">
              <div class="user-info">
                <div class="user-name">John Doe</div>
                <div class="user-email">john@example.com</div>
              </div>
              <ul class="dropdown-list">
                <li>
                  <a href="#" class="dropdown-item" id="dashboard-link">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                  </a>
                </li>
                <li>
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-history"></i> History
                  </a>
                </li>
                <li>
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-coins"></i> Credits:
                    <span class="credit-count">25</span>
                  </a>
                </li>
                <li class="divider"></li>
                <li>
                  <a href="#" class="dropdown-item">
                    <i class="fas fa-cog"></i> Settings
                  </a>
                </li>
                <li>
                  <a href="#" class="dropdown-item logout-item">
                    <i class="fas fa-sign-out-alt"></i> Logout
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </nav>
      </div>
    </header>
    <!-- Hero Section -->
    <section class="hero">
      <div class="container">
        <h1>About CodeAnnotator</h1>
        <p>
          Empowering developers to create more readable and maintainable code
        </p>
      </div>
    </section>

    <!-- Main Content -->
    <section class="main-content">
      <div class="container">
        <!-- About Content - Replacing Original Hero -->
        <div class="card" style="margin-bottom: 40px">
          <!-- Our Story -->
          <div class="about-story">
            <div class="about-image">
              <img
                src="https://images.unsplash.com/photo-1516116216624-53e697fedbea?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                alt="Code on computer screen"
              />
              <span class="image-credit"
                >Photo by
                <a href="https://unsplash.com/@markusspiske" target="_blank"
                  >Markus Spiske</a
                >
                on Unsplash</span
              >
            </div>

            <div class="about-text">
              <h3>Our Story</h3>
              <p>
                CodeAnnotator was born from a simple observation: as code
                complexity grows, documentation often becomes an afterthought.
                Founded in 2025 by a team of developers, teachers, and AI
                specialists, we set out to create a tool that would bridge the
                gap between writing code and documenting it.
              </p>
              <p>
                What began as a passion project has evolved into a comprehensive
                platform that helps developers automatically generate clear,
                concise, and meaningful annotations for their code, saving time
                while improving code quality and collaboration.
              </p>
            </div>
          </div>
        </div>

        <!-- Mission and Team -->
        <div class="card" style="margin-bottom: 40px">
          <!-- Our Mission -->
          <div class="about-mission">
            <div class="about-text">
              <h3>Our Mission</h3>
              <p>
                We believe that well-documented code is a cornerstone of
                successful software development. Our mission is to make code
                documentation effortless and accessible for all developers,
                regardless of experience level or project size.
              </p>
              <p>
                Unlike generic commenting tools, CodeAnnotator is specifically
                designed for developers, understanding the nuances of different
                programming languages, code structure, and documentation
                standards to provide intelligent annotations that truly enhance
                understanding.
              </p>
            </div>

            <div class="about-image">
              <img
                src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                alt="Team working together on code"
              />
              <span class="image-credit"
                >Photo by
                <a href="https://unsplash.com/@helloquence" target="_blank"
                  >Helloquence</a
                >
                on Unsplash</span
              >
            </div>
          </div>
        </div>

        <!-- Our Team -->
        <div class="card" style="margin-bottom: 40px">
          <div class="about-team">
            <h3>Our Team</h3>
            <div class="team-grid">
              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - CEO"
                  />
                </div>
                <h4>Emily Chen</h4>
                <p class="member-role">Founder & CEO</p>
                <p class="member-bio">
                  Former tech lead with 15+ years of experience in software
                  architecture and a passion for clean code.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1531384441138-2736e62e0919?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - CTO"
                  />
                </div>
                <h4>Michael Rodriguez</h4>
                <p class="member-role">Chief Technology Officer</p>
                <p class="member-bio">
                  AI specialist with extensive background in NLP and
                  computational linguistics.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - Product Lead"
                  />
                </div>
                <h4>Sarah Johnson</h4>
                <p class="member-role">Head of Product</p>
                <p class="member-bio">
                  Product manager with a background in developer tools and
                  educational technology.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - Lead Developer"
                  />
                </div>
                <h4>David Park</h4>
                <p class="member-role">Lead Developer</p>
                <p class="member-bio">
                  Full-stack developer specializing in language parsing and code
                  analysis tools.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Our Values -->
        <div class="card" style="margin-bottom: 40px">
          <div class="about-values">
            <h3>Our Values</h3>
            <div class="values-grid">
              <div class="value-item">
                <i class="fas fa-lightbulb"></i>
                <h4>Innovation</h4>
                <p>
                  We continuously refine our technology to provide cutting-edge
                  assistance that meets the evolving needs of developers.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-shield-alt"></i>
                <h4>Code Quality</h4>
                <p>
                  We believe that good documentation is a cornerstone of
                  high-quality software and sustainable development practices.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-users"></i>
                <h4>Inclusivity</h4>
                <p>
                  We design our tools to help developers from all backgrounds,
                  experience levels, and programming languages improve their
                  code documentation.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-lock"></i>
                <h4>Privacy</h4>
                <p>
                  Your code is precious. We maintain strict privacy standards
                  and never use your content to train our models without
                  consent.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Call to Action - Added to main page -->
        <div class="card" style="margin-bottom: 60px">
          <div class="about-cta">
            <h3>Ready to Improve Your Code Documentation?</h3>
            <p>
              Experience how CodeAnnotator can transform your development
              process with intelligent, automatic code annotations.
            </p>
            <button class="btn btn-primary" id="try-service-btn">
              Try Service Now
            </button>
          </div>
        </div>

        <!-- Code Input Card -->
        <div class="card" id="code-input">
          <div class="card-header">
            <h2 class="card-title">Submit Your Code</h2>
            <div class="tooltip" id="free-trial-tooltip">
              <i class="fas fa-info-circle"></i>
            </div>
          </div>
          <div class="tabs">
            <div class="tab active" data-tab="paste">Paste Code</div>
            <div class="tab" data-tab="upload">Upload File</div>
          </div>
          <div class="tab-content active" data-content="paste">
            <textarea
              class="code-textarea"
              placeholder="Paste your code here..."
            ></textarea>
          </div>
          <div class="tab-content" data-content="upload">
            <div class="file-upload">
              <i class="fas fa-cloud-upload-alt"></i>
              <p>Drag and drop your file here or click to browse</p>
              <input type="file" id="code-file-input" />
            </div>
          </div>
          <button class="btn btn-primary btn-large" id="annotate-btn">
            <i class="fas fa-magic"></i> Annotate Code
          </button>
          <div class="loader" id="annotation-loader"></div>
          <div class="checkmark" id="annotation-success"></div>
        </div>

        <!-- Results Card (Initially Hidden) -->
        <div class="card" id="results-card" style="display: none">
          <div class="card-header">
            <h2 class="card-title">Annotated Code</h2>
            <button class="btn btn-success" id="download-btn">
              <i class="fas fa-download"></i> Download
            </button>
          </div>
          <div class="code-comparison">
            <div class="code-panel">
              <div class="code-panel-header">Original Code</div>
              <div class="code-display">
                <div class="line-numbers" id="original-line-numbers"></div>
                <div class="code-content" id="original-code"></div>
              </div>
            </div>
            <div class="code-panel">
              <div class="code-panel-header">Annotated Code</div>
              <div class="code-display">
                <div class="line-numbers" id="annotated-line-numbers"></div>
                <div class="code-content" id="annotated-code"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- User Dashboard (Initially Hidden) -->
        <div class="card dashboard" id="user-dashboard">
          <div class="card-header">
            <h2 class="card-title">Your Dashboard</h2>
            <div class="credit-badge">
              <i class="fas fa-coins"></i>
              <span class="credit-count">25</span> Credits
            </div>
          </div>
          <div class="dashboard-tabs">
            <div class="dashboard-tab active" data-dashboard-tab="history">
              History
            </div>
            <div class="dashboard-tab" data-dashboard-tab="buy-credits">
              Buy Credits
            </div>
          </div>
          <div
            class="dashboard-content active"
            data-dashboard-content="history"
          >
            <!-- History Items -->
            <div class="history-item">
              <div class="history-header">
                <div class="history-title">main.js</div>
                <div class="history-date">2025-07-24, 15:30</div>
              </div>
              <div class="history-preview">
                function calculateTotal(items) { // Calculate the total price of
                all items in the cart
              </div>
              <div class="history-actions">
                <button class="btn btn-sm btn-outline history-view-btn">
                  <i class="fas fa-eye"></i> View
                </button>
                <button class="btn btn-sm btn-success history-download-btn">
                  <i class="fas fa-download"></i> Download
                </button>
              </div>
            </div>
            <div class="history-item">
              <div class="history-header">
                <div class="history-title">api.py</div>
                <div class="history-date">2025-07-23, 10:15</div>
              </div>
              <div class="history-preview">
                def process_data(data): # Process incoming data and return
                formatted results
              </div>
              <div class="history-actions">
                <button class="btn btn-sm btn-outline history-view-btn">
                  <i class="fas fa-eye"></i> View
                </button>
                <button class="btn btn-sm btn-success history-download-btn">
                  <i class="fas fa-download"></i> Download
                </button>
              </div>
            </div>
            <div class="history-item">
              <div class="history-header">
                <div class="history-title">User.java</div>
                <div class="history-date">2025-07-21, 09:45</div>
              </div>
              <div class="history-preview">
                public class User { // Represents a user in the system with
                authentication details
              </div>
              <div class="history-actions">
                <button class="btn btn-sm btn-outline history-view-btn">
                  <i class="fas fa-eye"></i> View
                </button>
                <button class="btn btn-sm btn-success history-download-btn">
                  <i class="fas fa-download"></i> Download
                </button>
              </div>
            </div>
          </div>
          <div class="dashboard-content" data-dashboard-content="buy-credits">
            <!-- Buy Credits Content -->
            <div class="pricing-grid">
              <div class="pricing-plan">
                <div class="plan-header">
                  <div class="plan-name">Basic</div>
                  <div class="plan-price">$0.99</div>
                  <div class="plan-duration">2 Annotations</div>
                </div>
                <div class="plan-features">
                  <ul class="feature-list">
                    <li><i class="fas fa-check"></i> AI Annotations</li>
                    <li><i class="fas fa-check"></i> Download Code</li>
                    <li><i class="fas fa-check"></i> All Languages</li>
                  </ul>
                  <button class="btn btn-primary buy-plan" data-plan="basic">
                    Purchase
                  </button>
                </div>
              </div>
              <div class="pricing-plan">
                <div class="plan-header">
                  <div class="plan-name">Standard</div>
                  <div class="plan-price">$4.99</div>
                  <div class="plan-duration">10 Annotations</div>
                </div>
                <div class="plan-features">
                  <ul class="feature-list">
                    <li><i class="fas fa-check"></i> AI Annotations</li>
                    <li><i class="fas fa-check"></i> Download Code</li>
                    <li><i class="fas fa-check"></i> All Languages</li>
                    <li><i class="fas fa-check"></i> Access History</li>
                  </ul>
                  <button class="btn btn-primary buy-plan" data-plan="standard">
                    Purchase
                  </button>
                </div>
              </div>
              <div class="pricing-plan">
                <div class="plan-header">
                  <div class="plan-name">Plus</div>
                  <div class="plan-price">$9.99</div>
                  <div class="plan-duration">30 Annotations</div>
                </div>
                <div class="plan-features">
                  <ul class="feature-list">
                    <li><i class="fas fa-check"></i> AI Annotations</li>
                    <li><i class="fas fa-check"></i> Download Code</li>
                    <li><i class="fas fa-check"></i> All Languages</li>
                    <li><i class="fas fa-check"></i> Access History</li>
                    <li><i class="fas fa-check"></i> Priority Support</li>
                  </ul>
                  <button class="btn btn-primary buy-plan" data-plan="plus">
                    Purchase
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pricing Section -->
        <section class="pricing" id="pricing">
          <div class="pricing-header">
            <h2>Simple & Transparent Pricing</h2>
            <p>
              Choose the plan that fits your development needs. All plans
              include our advanced AI code annotation technology.
            </p>
          </div>
          <div class="pricing-grid">
            <div class="pricing-plan">
              <div class="plan-header">
                <div class="plan-name">Basic</div>
                <div class="plan-price">$0.99</div>
                <div class="plan-duration">2 Annotations</div>
              </div>
              <div class="plan-features">
                <ul class="feature-list">
                  <li><i class="fas fa-check"></i> AI Annotations</li>
                  <li><i class="fas fa-check"></i> Download Code</li>
                  <li><i class="fas fa-check"></i> All Languages</li>
                </ul>
                <button class="btn btn-primary buy-plan" data-plan="basic">
                  Get Started
                </button>
              </div>
            </div>
            <div class="pricing-plan">
              <div class="plan-header">
                <div class="plan-name">Standard</div>
                <div class="plan-price">$4.99</div>
                <div class="plan-duration">10 Annotations</div>
              </div>
              <div class="plan-features">
                <ul class="feature-list">
                  <li><i class="fas fa-check"></i> AI Annotations</li>
                  <li><i class="fas fa-check"></i> Download Code</li>
                  <li><i class="fas fa-check"></i> All Languages</li>
                  <li><i class="fas fa-check"></i> Access History</li>
                </ul>
                <button class="btn btn-primary buy-plan" data-plan="standard">
                  Get Started
                </button>
              </div>
            </div>
            <div class="pricing-plan">
              <div class="plan-header">
                <div class="plan-name">Plus</div>
                <div class="plan-price">$9.99</div>
                <div class="plan-duration">30 Annotations</div>
              </div>
              <div class="plan-features">
                <ul class="feature-list">
                  <li><i class="fas fa-check"></i> AI Annotations</li>
                  <li><i class="fas fa-check"></i> Download Code</li>
                  <li><i class="fas fa-check"></i> All Languages</li>
                  <li><i class="fas fa-check"></i> Access History</li>
                  <li><i class="fas fa-check"></i> Priority Support</li>
                </ul>
                <button class="btn btn-primary buy-plan" data-plan="plus">
                  Get Started
                </button>
              </div>
            </div>
            <div class="pricing-plan">
              <div class="plan-header">
                <div class="plan-name">Monthly</div>
                <div class="plan-price">$10.99</div>
                <div class="plan-duration">50 Annotations/Month</div>
              </div>
              <div class="plan-features">
                <ul class="feature-list">
                  <li><i class="fas fa-check"></i> AI Annotations</li>
                  <li><i class="fas fa-check"></i> Download Code</li>
                  <li><i class="fas fa-check"></i> All Languages</li>
                  <li><i class="fas fa-check"></i> Access History</li>
                  <li><i class="fas fa-check"></i> Priority Support</li>
                  <li><i class="fas fa-check"></i> Auto-Renewal</li>
                </ul>
                <button class="btn btn-primary buy-plan" data-plan="monthly">
                  Get Started
                </button>
              </div>
            </div>
            <div class="pricing-plan">
              <div class="plan-header">
                <div class="plan-name">Annual</div>
                <div class="plan-price">$99.90</div>
                <div class="plan-duration">1000 Annotations/Year</div>
              </div>
              <div class="plan-features">
                <ul class="feature-list">
                  <li><i class="fas fa-check"></i> AI Annotations</li>
                  <li><i class="fas fa-check"></i> Download Code</li>
                  <li><i class="fas fa-check"></i> All Languages</li>
                  <li><i class="fas fa-check"></i> Access History</li>
                  <li><i class="fas fa-check"></i> Priority Support</li>
                  <li><i class="fas fa-check"></i> Auto-Renewal</li>
                  <li><i class="fas fa-check"></i> Best Value</li>
                </ul>
                <button class="btn btn-primary buy-plan" data-plan="annual">
                  Get Started
                </button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </section>

    <!-- About Section -->
    <section
      class="about-section"
      id="about-section"
      style="display: none"
      hidden
      aria-hidden="true"
    >
      <div class="container">
        <div class="about-header">
          <h2>About CodeAnnotator</h2>
          <p>
            Empowering developers to create more readable and maintainable code
          </p>
        </div>

        <div class="about-content">
          <!-- Our Story -->
          <div class="about-story">
            <div class="about-image">
              <img
                src="https://images.unsplash.com/photo-1516116216624-53e697fedbea?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                alt="Code on computer screen"
              />
              <span class="image-credit"
                >Photo by
                <a href="https://unsplash.com/@markusspiske" target="_blank"
                  >Markus Spiske</a
                >
                on Unsplash</span
              >
            </div>

            <div class="about-text">
              <h3>Our Story</h3>
              <p>
                CodeAnnotator was born from a simple observation: as code
                complexity grows, documentation often becomes an afterthought.
                Founded in 2025 by a team of developers, teachers, and AI
                specialists, we set out to create a tool that would bridge the
                gap between writing code and documenting it.
              </p>
              <p>
                What began as a passion project has evolved into a comprehensive
                platform that helps developers automatically generate clear,
                concise, and meaningful annotations for their code, saving time
                while improving code quality and collaboration.
              </p>
            </div>
          </div>

          <!-- Our Mission -->
          <div class="about-mission">
            <div class="about-text">
              <h3>Our Mission</h3>
              <p>
                We believe that well-documented code is a cornerstone of
                successful software development. Our mission is to make code
                documentation effortless and accessible for all developers,
                regardless of experience level or project size.
              </p>
              <p>
                Unlike generic commenting tools, CodeAnnotator is specifically
                designed for developers, understanding the nuances of different
                programming languages, code structure, and documentation
                standards to provide intelligent annotations that truly enhance
                understanding.
              </p>
            </div>

            <div class="about-image">
              <img
                src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
                alt="Team working together on code"
              />
              <span class="image-credit"
                >Photo by
                <a href="https://unsplash.com/@helloquence" target="_blank"
                  >Helloquence</a
                >
                on Unsplash</span
              >
            </div>
          </div>

          <!-- Our Team -->
          <div class="about-team">
            <h3>Our Team</h3>
            <div class="team-grid">
              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - CEO"
                  />
                </div>
                <h4>Emily Chen</h4>
                <p class="member-role">Founder & CEO</p>
                <p class="member-bio">
                  Former tech lead with 15+ years of experience in software
                  architecture and a passion for clean code.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1531384441138-2736e62e0919?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - CTO"
                  />
                </div>
                <h4>Michael Rodriguez</h4>
                <p class="member-role">Chief Technology Officer</p>
                <p class="member-bio">
                  AI specialist with extensive background in NLP and
                  computational linguistics.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1573497019940-1c28c88b4f3e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - Product Lead"
                  />
                </div>
                <h4>Sarah Johnson</h4>
                <p class="member-role">Head of Product</p>
                <p class="member-bio">
                  Product manager with a background in developer tools and
                  educational technology.
                </p>
              </div>

              <div class="team-member">
                <div class="member-image">
                  <img
                    src="https://images.unsplash.com/photo-1568602471122-7832951cc4c5?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80"
                    alt="Team member - Lead Developer"
                  />
                </div>
                <h4>David Park</h4>
                <p class="member-role">Lead Developer</p>
                <p class="member-bio">
                  Full-stack developer specializing in language parsing and code
                  analysis tools.
                </p>
              </div>
            </div>
          </div>

          <!-- Our Values -->
          <div class="about-values">
            <h3>Our Values</h3>
            <div class="values-grid">
              <div class="value-item">
                <i class="fas fa-lightbulb"></i>
                <h4>Innovation</h4>
                <p>
                  We continuously refine our technology to provide cutting-edge
                  assistance that meets the evolving needs of developers.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-shield-alt"></i>
                <h4>Code Quality</h4>
                <p>
                  We believe that good documentation is a cornerstone of
                  high-quality software and sustainable development practices.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-users"></i>
                <h4>Inclusivity</h4>
                <p>
                  We design our tools to help developers from all backgrounds,
                  experience levels, and programming languages improve their
                  code documentation.
                </p>
              </div>

              <div class="value-item">
                <i class="fas fa-lock"></i>
                <h4>Privacy</h4>
                <p>
                  Your code is precious. We maintain strict privacy standards
                  and never use your content to train our models without
                  consent.
                </p>
              </div>
            </div>
          </div>

          <!-- Call to Action -->
          <div class="about-cta">
            <h3>Ready to Improve Your Code Documentation?</h3>
            <p>
              Experience how CodeAnnotator can transform your development
              process with intelligent, automatic code annotations.
            </p>
            <button class="btn btn-primary" id="about-cta-btn">
              Get Started Now
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer>
      <div class="container">
        <div class="footer-content">
          <div class="footer-links">
            <a href="#" id="privacyPolicyLink">Privacy Policy</a>
            <a href="#" id="termsOfServiceLink">Terms of Service</a>
          </div>
          <div class="copyright">
            &copy; 2025 CodeAnnotator. All rights reserved.
          </div>
        </div>
      </div>
    </footer>

    <!-- Login Modal -->
    <div class="modal-backdrop" id="login-modal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Login to Your Account</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <form id="login-form" novalidate>
            <div class="form-group">
              <label class="form-label" for="login-email">Email</label>
              <input
                type="email"
                class="form-control"
                id="login-email"
                placeholder="Enter your email"
                novalidate
              />
            </div>
            <div class="form-group">
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  margin-bottom: 8px;
                "
              >
                <label
                  class="form-label"
                  for="login-password"
                  style="margin-bottom: 0"
                  >Password</label
                >
                <a
                  href="#"
                  id="show-forgot-password"
                  style="font-size: 14px; color: var(--primary)"
                  >Forgot password?</a
                >
              </div>
              <input
                type="password"
                class="form-control"
                id="login-password"
                placeholder="Enter your password"
              />
            </div>
            <button type="submit" class="btn btn-primary btn-large">
              Login
            </button>
          </form>
          <div class="text-center auth-alt-option">
            Don't have an account? <a href="#" id="show-signup">Sign up</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Signup Modal -->
    <div class="modal-backdrop" id="signup-modal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Create an Account</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <form id="signup-form" novalidate>
            <div class="form-group">
              <label class="form-label" for="signup-name">Full Name</label>
              <input
                type="text"
                class="form-control"
                id="signup-name"
                placeholder="Enter your name"
              />
            </div>
            <div class="form-group">
              <label class="form-label" for="signup-email">Email</label>
              <input
                type="email"
                class="form-control"
                id="signup-email"
                placeholder="Enter your email"
                novalidate
              />
            </div>
            <div class="form-group">
              <label class="form-label" for="signup-password">Password</label>
              <input
                type="password"
                class="form-control"
                id="signup-password"
                placeholder="Create a password"
              />
            </div>
            <div class="form-group">
              <label class="form-label" for="signup-confirm"
                >Confirm Password</label
              >
              <input
                type="password"
                class="form-control"
                id="signup-confirm"
                placeholder="Confirm your password"
              />
            </div>
            <button type="submit" class="btn btn-primary btn-large">
              Sign Up
            </button>
          </form>
          <div class="text-center auth-alt-option">
            Already have an account? <a href="#" id="show-login">Login</a>
          </div>
        </div>
      </div>
    </div>

    <!-- Payment Modal -->
    <div class="modal-backdrop" id="payment-modal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Purchase Credits</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">Selected Plan</label>
            <div class="form-control" id="selected-plan">
              Basic - $0.99 for 2 Annotations
            </div>
          </div>
          <div class="form-group">
            <label class="form-label">Payment Method</label>
            <div class="payment-options">
              <div class="payment-option selected" data-method="card">
                <i class="fas fa-credit-card"></i>
                <div>Credit Card</div>
              </div>
              <div class="payment-option" data-method="paypal">
                <i class="fab fa-paypal"></i>
                <div>PayPal</div>
              </div>
            </div>
          </div>
          <div id="card-payment-fields">
            <div class="form-group">
              <label class="form-label" for="card-number">Card Number</label>
              <input
                type="text"
                class="form-control"
                id="card-number"
                placeholder="1234 5678 9012 3456"
              />
            </div>
            <div class="form-group">
              <label class="form-label" for="card-name">Cardholder Name</label>
              <input
                type="text"
                class="form-control"
                id="card-name"
                placeholder="John Doe"
              />
            </div>
            <div style="display: flex; gap: 15px">
              <div class="form-group" style="flex: 1">
                <label class="form-label" for="card-expiry">Expiry Date</label>
                <input
                  type="text"
                  class="form-control"
                  id="card-expiry"
                  placeholder="MM/YY"
                />
              </div>
              <div class="form-group" style="flex: 1">
                <label class="form-label" for="card-cvv">CVV</label>
                <input
                  type="text"
                  class="form-control"
                  id="card-cvv"
                  placeholder="123"
                />
              </div>
            </div>
          </div>
          <div id="paypal-fields" style="display: none">
            <div class="form-group text-center">
              <p>You will be redirected to PayPal to complete your purchase.</p>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-primary btn-large"
            id="complete-payment"
          >
            Complete Purchase
          </button>
        </div>
      </div>
    </div>

    <!-- Privacy Policy Modal -->
    <div class="modal-backdrop" id="privacyPolicyModal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Privacy Policy</h3>
          <button class="modal-close" id="closePrivacyModal">&times;</button>
        </div>
        <div class="modal-body privacy-content">
          <h3>Introduction</h3>
          <p>
            CodeAnnotator ("we," "our," or "us") is committed to protecting your
            privacy. This Privacy Policy explains how we collect, use, disclose,
            and safeguard your information when you use our code annotation
            services.
          </p>

          <h3>Information We Collect</h3>
          <p>
            We may collect information about you in various ways, including:
          </p>
          <ul>
            <li>
              <strong>Personal Data:</strong> Name, email address, and payment
              information when you create an account or purchase credits.
            </li>
            <li>
              <strong>Usage Data:</strong> Information about how you use our
              service, including code you submit for annotation.
            </li>
            <li>
              <strong>Device Data:</strong> Information about your device,
              browser type, IP address, and operating system.
            </li>
          </ul>

          <h3>How We Use Your Information</h3>
          <p>We may use the information we collect about you to:</p>
          <ul>
            <li>Provide, maintain, and improve our services</li>
            <li>Process transactions and send related information</li>
            <li>Send you technical notices, updates, and support messages</li>
            <li>Respond to your comments and questions</li>
            <li>Develop new products and services</li>
            <li>Protect against fraud and potential illegal activities</li>
          </ul>

          <h3>Code Data Privacy</h3>
          <p>
            The code you submit to our service for annotation is processed
            through our AI systems. We may temporarily store your code data to
            provide the service, but we do not permanently store your code
            unless you explicitly save it to your account history.
          </p>

          <h3>Sharing Your Information</h3>
          <p>
            We do not sell your personal information. We may share your
            information with:
          </p>
          <ul>
            <li>Service providers who help us deliver our services</li>
            <li>Legal authorities when required by law</li>
            <li>Business partners with your consent</li>
          </ul>

          <h3>Data Security</h3>
          <p>
            We implement appropriate technical and organizational measures to
            protect your personal information. However, no method of
            transmission over the Internet or electronic storage is 100% secure,
            and we cannot guarantee absolute security.
          </p>

          <h3>Your Rights</h3>
          <p>
            Depending on your location, you may have rights concerning your
            personal data, such as:
          </p>
          <ul>
            <li>Access to your personal information</li>
            <li>Correction of inaccurate information</li>
            <li>Deletion of your information</li>
            <li>Restriction or objection to processing</li>
            <li>Data portability</li>
          </ul>

          <h3>Children's Privacy</h3>
          <p>
            Our service is not directed to children under 16. We do not
            knowingly collect information from children under 16. If we discover
            we have collected information from a child under 16, we will delete
            that information promptly.
          </p>

          <h3>Changes to This Privacy Policy</h3>
          <p>
            We may update our Privacy Policy from time to time. We will notify
            you of any changes by posting the new Privacy Policy on this page
            and updating the "Last Updated" date.
          </p>

          <h3>Contact Us</h3>
          <p>
            If you have any questions about this Privacy Policy, please contact
            us at privacy@codeannotator.com
          </p>

          <p class="last-updated">Last Updated: June 15, 2025</p>
        </div>
      </div>
    </div>

    <!-- Terms of Service Modal -->
    <div class="modal-backdrop" id="termsModal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Terms of Service</h3>
          <button class="modal-close" id="closeTermsModal">&times;</button>
        </div>
        <div class="modal-body privacy-content">
          <h3>1. Acceptance of Terms</h3>
          <p>
            By accessing or using CodeAnnotator's services, you agree to be
            bound by these Terms of Service. If you do not agree to these terms,
            please do not use our services.
          </p>

          <h3>2. Description of Services</h3>
          <p>
            CodeAnnotator provides AI-powered code annotation services that help
            users generate comprehensive comments for their code. Our services
            use artificial intelligence and machine learning technologies to
            analyze and annotate code.
          </p>

          <h3>3. User Accounts</h3>
          <p>
            To access certain features of our service, you may need to create an
            account. You are responsible for:
          </p>
          <ul>
            <li>Providing accurate and complete account information</li>
            <li>Maintaining the security of your account credentials</li>
            <li>All activities that occur under your account</li>
            <li>
              Notifying us immediately of any unauthorized use of your account
            </li>
          </ul>

          <h3>4. Credit System and Payments</h3>
          <p>
            Our service operates on a credit-based system. Credits may be
            purchased through the website and are used to access code annotation
            features.
          </p>
          <ul>
            <li>
              All payments are processed securely through our payment processors
            </li>
            <li>
              Prices for credits are listed on our website and may change at any
              time
            </li>
            <li>Subscription plans automatically renew until canceled</li>
            <li>
              Credits may expire according to the terms specified at purchase
            </li>
            <li>
              Refunds are provided at our discretion and according to our refund
              policy
            </li>
          </ul>

          <h3>5. Intellectual Property Rights</h3>
          <p>
            <strong>Your Content:</strong> You retain all rights to the original
            code you submit to our service. By using our service, you grant us a
            non-exclusive license to process, modify, and annotate your code
            solely for the purpose of providing our services to you.
          </p>
          <p>
            <strong>Our Content:</strong> All intellectual property rights
            related to our website, services, technology, and brand elements
            (including but not limited to software, algorithms, logos, and
            trademarks) are owned by CodeAnnotator.
          </p>

          <h3>6. Acceptable Use Policy</h3>
          <p>You agree not to use our services to:</p>
          <ul>
            <li>Violate any applicable laws or regulations</li>
            <li>Infringe upon the intellectual property rights of others</li>
            <li>
              Generate content that is unlawful, harmful, threatening, abusive,
              harassing, defamatory, or otherwise objectionable
            </li>
            <li>Transmit any viruses, malware, or other malicious code</li>
            <li>Interfere with or disrupt our services or servers</li>
            <li>
              Attempt to gain unauthorized access to any part of our services
            </li>
          </ul>

          <h3>7. Content Guidelines</h3>
          <p>You agree not to submit code that:</p>
          <ul>
            <li>
              Promotes illegal activities or violates the rights of others
            </li>
            <li>
              Contains harmful scripts, malware, or other malicious elements
            </li>
            <li>
              Constitutes plagiarized or unauthorized proprietary material
            </li>
            <li>Contains offensive or discriminatory content</li>
          </ul>
          <p>
            We reserve the right to refuse processing any code that violates
            these guidelines and to suspend or terminate accounts that
            repeatedly violate them.
          </p>

          <h3>8. Limitation of Liability</h3>
          <p>
            To the maximum extent permitted by law, CodeAnnotator shall not be
            liable for any indirect, incidental, special, consequential, or
            punitive damages, including loss of profits, data, or goodwill,
            resulting from your access to or use of our services.
          </p>
          <p>
            Our services are provided "as is" without any warranty, whether
            express or implied, including but not limited to warranties of
            merchantability, fitness for a particular purpose, or
            non-infringement.
          </p>

          <h3>9. Indemnification</h3>
          <p>
            You agree to indemnify and hold harmless CodeAnnotator and its
            officers, directors, employees, and agents from any claims, damages,
            liabilities, costs, and expenses arising from your use of our
            services or violation of these Terms.
          </p>

          <h3>10. Termination</h3>
          <p>
            We may terminate or suspend your account and access to our services
            at any time, without prior notice or liability, for any reason,
            including but not limited to a breach of these Terms.
          </p>

          <h3>11. Modifications to Terms and Services</h3>
          <p>
            We reserve the right to modify or replace these Terms at any time.
            We will provide notice of any material changes through our website
            or by sending an email to the address associated with your account.
          </p>
          <p>
            We may also modify, suspend, or discontinue any part of our services
            at any time without notice or liability.
          </p>

          <h3>12. Governing Law</h3>
          <p>
            These Terms shall be governed by and construed in accordance with
            the laws of the jurisdiction in which CodeAnnotator is established,
            without regard to its conflict of law provisions.
          </p>

          <h3>13. Contact Information</h3>
          <p>
            If you have any questions about these Terms, please contact us at
            terms@codeannotator.com
          </p>

          <p class="last-updated">Last Updated: June 15, 2025</p>
        </div>
      </div>
    </div>

    <!-- Forgot Password Modal -->
    <div class="modal-backdrop" id="forgot-password-modal">
      <div class="modal">
        <div class="modal-header">
          <h3 class="modal-title">Reset Your Password</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <form id="forgot-password-form" novalidate>
            <div class="form-group">
              <label class="form-label" for="forgot-email">Email</label>
              <input
                type="email"
                class="form-control"
                id="forgot-email"
                placeholder="Enter your email"
                novalidate
              />
            </div>
            <button type="submit" class="btn btn-primary btn-large">
              Send Reset Link
            </button>
            <div class="text-center" style="margin-top: 15px">
              <a href="#" id="back-to-login" style="color: var(--primary)"
                >Back to Login</a
              >
            </div>
          </form>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 网站结构控制 - Home显示About内容，Features显示功能和价格
        const mainContent = document.querySelector(".main-content");
        const aboutSection = document.getElementById("about-section");
        const pricingSection = document.getElementById("pricing");
        const codeInputCard = document.getElementById("code-input");
        const resultsCard = document.getElementById("results-card");
        const userDashboard = document.getElementById("user-dashboard");

        // 全局状态变量
        let isLoggedIn = false; // 默认未登录状态
        let currentUser = null; // 当前用户信息

        // 初始化 - 检查用户登录状态
        checkLoginStatus();

        // 初始显示设置 - 页面加载时默认显示Home (About内容)
        function initialPageSetup() {
          // 仅显示About内容相关卡片 (前5个卡片是About内容)
          if (mainContent) {
            const contentCards = mainContent.querySelectorAll(".card");

            // 显示About相关卡片，但隐藏Our Team部分（第3个卡片）
            for (let i = 0; i < 5; i++) {
              if (contentCards[i]) {
                if (i === 2) {
                  // Our Team卡片是第3个，索引为2
                  contentCards[i].style.display = "none";
                } else {
                  contentCards[i].style.display = "block";
                }
              }
            }

            // 隐藏功能相关卡片
            if (codeInputCard) codeInputCard.style.display = "none";
            if (resultsCard) resultsCard.style.display = "none";
            if (userDashboard) userDashboard.style.display = "none";
          }

          // 隐藏价格部分
          if (pricingSection) pricingSection.style.display = "none";
        }

        // 检查用户登录状态
        function checkLoginStatus() {
          // 检查localStorage中是否有用户信息
          const savedUser = localStorage.getItem("currentUser");

          if (savedUser) {
            currentUser = JSON.parse(savedUser);
            isLoggedIn = true;
            updateUIForLoggedInUser();
          }
        }

        // 更新已登录用户UI
        function updateUIForLoggedInUser() {
          // 隐藏登录和注册按钮
          const authButtons = document.querySelector(".auth-buttons");
          if (authButtons) {
            authButtons.style.display = "none";
          }

          // 显示用户菜单
          const userMenu = document.querySelector(".user-menu");
          if (userMenu) {
            userMenu.style.display = "block";
          }

          // 更新用户头像显示的首字母
          const userAvatar = document.querySelector(".user-avatar");
          if (userAvatar && currentUser && currentUser.name) {
            // 如果之前有i标签，则移除
            const iconElement = userAvatar.querySelector("i");
            if (iconElement) {
              userAvatar.removeChild(iconElement);
            }
            // 添加用户名首字母
            userAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
          }

          // 更新用户信息
          const userName = document.querySelector(".user-name");
          const userEmail = document.querySelector(".user-email");

          if (userName && currentUser) {
            userName.textContent = currentUser.name;
          }

          if (userEmail && currentUser) {
            userEmail.textContent = currentUser.email;
          }

          // 更新积分显示
          const creditCount = document.querySelector(".credit-count");
          if (creditCount && currentUser) {
            creditCount.textContent = currentUser.credits || 25;
          }
        }

        // 显示Home页面功能 (About内容，但不包括Team部分)
        function showHomePage() {
          if (mainContent) {
            // 显示About相关卡片 (前5个卡片是About内容)
            const contentCards = mainContent.querySelectorAll(".card");

            // 显示About相关卡片，但隐藏Our Team部分（第3个卡片）
            for (let i = 0; i < 5; i++) {
              if (contentCards[i]) {
                if (i === 2) {
                  // Our Team卡片是第3个，索引为2
                  contentCards[i].style.display = "none";
                } else {
                  contentCards[i].style.display = "block";
                }
              }
            }

            // 隐藏功能相关卡片
            if (codeInputCard) codeInputCard.style.display = "none";
            if (resultsCard) resultsCard.style.display = "none";
            if (userDashboard) userDashboard.style.display = "none";
          }

          // 隐藏价格部分
          if (pricingSection) pricingSection.style.display = "none";

          // 滚动到顶部
          window.scrollTo({ top: 0, behavior: "smooth" });
        }

        // 显示Features页面功能 (Code Input和功能相关)
        function showFeaturesPage() {
          if (mainContent) {
            // 获取所有卡片
            const contentCards = mainContent.querySelectorAll(".card");

            // 首先隐藏所有卡片
            for (let i = 0; i < contentCards.length; i++) {
              if (contentCards[i]) contentCards[i].style.display = "none";
            }

            // 显示功能相关卡片 - 仅显示代码输入卡片
            if (codeInputCard) codeInputCard.style.display = "block";
            // 不默认显示结果卡片，只在点击Annotate按钮后显示
            if (resultsCard) resultsCard.style.display = "none";
            if (isLoggedIn && userDashboard)
              userDashboard.style.display = "block";
          }

          // 显示价格部分
          if (pricingSection) pricingSection.style.display = "block";

          // 滚动到顶部
          window.scrollTo({ top: 0, behavior: "smooth" });
        }

        // 显示Pricing页面功能 (仅价格部分)
        function showPricingPage() {
          if (mainContent) {
            // 隐藏About相关卡片 (前5个卡片是About内容)
            const contentCards = mainContent.querySelectorAll(".card");

            // 隐藏About相关卡片和功能卡片
            for (let i = 0; i < contentCards.length; i++) {
              if (contentCards[i]) contentCards[i].style.display = "none";
            }
          }

          // 显示价格部分
          if (pricingSection) pricingSection.style.display = "block";

          // 滚动到价格部分
          if (pricingSection) {
            pricingSection.scrollIntoView({ behavior: "smooth" });
          }
        }

        // 导航栏链接
        const homeLink = document.querySelector(".nav-links li:nth-child(1) a");
        const pricingLink = document.querySelector(
          ".nav-links li:nth-child(2) a"
        );
        const featuresLink = document.querySelector(
          ".nav-links li:nth-child(3) a"
        );

        // 页脚链接
        const footerHomeLink = document.querySelector(
          ".footer-links a:nth-child(1)"
        );
        const footerPricingLink = document.querySelector(
          ".footer-links a:nth-child(2)"
        );
        const footerFeaturesLink = document.querySelector(
          ".footer-links a:nth-child(3)"
        );

        // 导航栏链接事件处理
        if (homeLink) {
          homeLink.addEventListener("click", function (e) {
            e.preventDefault();
            showHomePage();
          });
        }

        if (featuresLink) {
          featuresLink.addEventListener("click", function (e) {
            e.preventDefault();
            showFeaturesPage();
          });
        }

        if (pricingLink) {
          pricingLink.addEventListener("click", function (e) {
            e.preventDefault();
            showPricingPage();
          });
        }

        // 页脚链接事件处理
        if (footerHomeLink) {
          footerHomeLink.addEventListener("click", function (e) {
            e.preventDefault();
            showHomePage();
          });
        }

        if (footerFeaturesLink) {
          footerFeaturesLink.addEventListener("click", function (e) {
            e.preventDefault();
            showFeaturesPage();
          });
        }

        if (footerPricingLink) {
          footerPricingLink.addEventListener("click", function (e) {
            e.preventDefault();
            showPricingPage();
          });
        }

        // Annotate Code按钮事件处理
        const annotateBtn = document.getElementById("annotate-btn");
        if (annotateBtn) {
          annotateBtn.addEventListener("click", function () {
            // 显示加载指示器
            const loader = document.getElementById("annotation-loader");
            if (loader) loader.style.display = "block";

            // 模拟处理延迟
            setTimeout(function () {
              // 隐藏加载指示器
              if (loader) loader.style.display = "none";

              // 显示成功指示器
              const successCheck =
                document.getElementById("annotation-success");
              if (successCheck) {
                successCheck.style.display = "block";

                // 短暂显示成功标记后显示结果
                setTimeout(function () {
                  if (successCheck) successCheck.style.display = "none";

                  // 显示注释后的代码结果
                  if (resultsCard) resultsCard.style.display = "block";

                  // 滚动到结果卡片
                  if (resultsCard) {
                    resultsCard.scrollIntoView({ behavior: "smooth" });
                  }
                }, 1000);
              }
            }, 2000);
          });
        }

        // 登录和注册按钮事件处理
        const loginBtn = document.querySelector(".login-btn");
        const signupBtn = document.querySelector(".signup-btn");
        const loginModal = document.getElementById("login-modal");
        const signupModal = document.getElementById("signup-modal");
        const forgotPasswordModal = document.getElementById(
          "forgot-password-modal"
        );
        const modalCloseButtons = document.querySelectorAll(".modal-close");
        const showSignupLink = document.getElementById("show-signup");
        const showLoginLink = document.getElementById("show-login");
        const showForgotPasswordLink = document.getElementById(
          "show-forgot-password"
        );
        const backToLoginLink = document.getElementById("back-to-login");

        // 登录按钮点击事件
        if (loginBtn) {
          loginBtn.addEventListener("click", function () {
            if (loginModal) {
              loginModal.classList.add("active");
            }
          });
        }

        // 注册按钮点击事件
        if (signupBtn) {
          signupBtn.addEventListener("click", function () {
            if (signupModal) {
              signupModal.classList.add("active");
            }
          });
        }

        // 用户头像点击事件 - 显示下拉菜单
        const userAvatar = document.querySelector(".user-avatar");
        const userDropdown = document.querySelector(".dropdown-menu");
        if (userAvatar) {
          userAvatar.addEventListener("click", function (e) {
            e.stopPropagation();
            if (userDropdown) {
              userDropdown.classList.toggle("active");
            }
          });

          // 点击其他地方关闭下拉菜单
          document.addEventListener("click", function () {
            if (userDropdown && userDropdown.classList.contains("active")) {
              userDropdown.classList.remove("active");
            }
          });
        }

        // 登出按钮点击事件
        const logoutItem = document.querySelector(".logout-item");
        if (logoutItem) {
          logoutItem.addEventListener("click", function (e) {
            e.preventDefault();
            handleLogout();
          });
        }

        // 处理登出
        function handleLogout() {
          // 显示加载指示或禁用按钮
          const logoutItem = document.querySelector(".logout-item");
          const originalText = logoutItem.innerHTML;
          logoutItem.innerHTML =
            '<i class="fas fa-spinner fa-spin"></i> 登出中...';

          // 调用登出API
          fetch("http://web.practicesnow.com/practice/v1/users/logout", {
            method: "POST",
            credentials: "omit",
            headers: {
              "Content-Type": "application/json",
              Accept: "application/json",
            },
          })
            .then((response) => {
              // 不管状态码如何，先解析JSON响应
              return response.json();
            })
            .then((data) => {
              // 清除用户信息，无论请求是否成功
              localStorage.removeItem("currentUser");
              sessionStorage.removeItem("currentUser");
              currentUser = null;
              isLoggedIn = false;

              // 更新UI
              updateUIForLoggedOutUser();

              // 显示通知
              if (data.status_code >= 200 && data.status_code < 300) {
                // 成功通知
                alert("登出成功！");
              } else {
                // 依然登出，但显示服务器返回的错误
                console.warn("登出过程中服务器返回错误:", data.error);
                alert(
                  "登出成功，但服务器返回错误: " + (data.error || "未知错误")
                );
              }
            })
            .catch((error) => {
              // 即使API调用失败，也进行本地登出
              localStorage.removeItem("currentUser");
              sessionStorage.removeItem("currentUser");
              currentUser = null;
              isLoggedIn = false;

              // 更新UI
              updateUIForLoggedOutUser();

              console.error("登出错误:", error);
              alert("登出成功，但服务器连接错误");
            })
            .finally(() => {
              // 恢复按钮原始状态
              logoutItem.innerHTML = originalText;
            });
        }

        // 更新登出后的UI
        function updateUIForLoggedOutUser() {
          // 显示登录和注册按钮
          const authButtons = document.querySelector(".auth-buttons");
          if (authButtons) {
            authButtons.style.display = "flex";
          }

          // 隐藏用户菜单
          const userMenu = document.querySelector(".user-menu");
          if (userMenu) {
            userMenu.style.display = "none";
          }

          // 关闭可能打开的下拉菜单
          const userDropdown = document.querySelector(".dropdown-menu");
          if (userDropdown) {
            userDropdown.classList.remove("active");
          }
        }

        // 登录表单提交处理
        const loginForm = document.getElementById("login-form");
        if (loginForm) {
          loginForm.addEventListener("submit", function (e) {
            e.preventDefault();

            // 获取表单数据
            const email = document.getElementById("login-email").value.trim();
            const password = document.getElementById("login-password").value;

            // 简单验证
            if (!email || !validateEmail(email)) {
              alert("请输入有效的邮箱地址");
              return;
            }

            if (!password) {
              alert("请输入密码");
              return;
            }

            // 准备登录数据
            const loginData = {
              email: email,
              password: password,
            };

            // 更新按钮状态
            const submitButton = loginForm.querySelector(
              'button[type="submit"]'
            );
            const originalButtonText = submitButton.textContent;
            submitButton.disabled = true;
            submitButton.innerHTML =
              '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> 登录中...';

            // 调用登录API
            fetch("http://web.practicesnow.com/practice/v1/users/login", {
              method: "POST",
              credentials: "omit",
              headers: {
                "Content-Type": "application/json",
                Accept: "application/json",
              },
              body: JSON.stringify(loginData),
            })
              .then((response) => {
                // 不管状态码如何，先解析JSON响应
                return response.json();
              })
              .then((data) => {
                // 检查status_code是否在200-299范围内
                if (data.status_code >= 200 && data.status_code < 300) {
                  // 登录成功，创建用户对象
                  const user = {
                    id: data.id || generateRandomId(),
                    name: data.full_name || email.split("@")[0],
                    email: email,
                    credits: data.credits || 25,
                  };

                  // 保存用户信息
                  currentUser = user;
                  isLoggedIn = true;
                  localStorage.setItem(
                    "currentUser",
                    JSON.stringify(currentUser)
                  );

                  // 关闭登录模态框
                  if (loginModal) {
                    loginModal.classList.remove("active");
                  }

                  // 更新UI
                  updateUIForLoggedInUser();

                  // 显示成功消息
                  alert("登录成功！欢迎回来，" + currentUser.name);
                } else {
                  // 登录失败
                  throw new Error(data.error || "登录失败，请检查账户信息");
                }
              })
              .catch((error) => {
                // 显示错误消息
                alert(error.message || "登录失败，请稍后重试");
                console.error("登录错误:", error);
              })
              .finally(() => {
                // 恢复按钮状态
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
              });
          });
        }

        // 注册表单提交处理
        const signupForm = document.getElementById("signup-form");
        if (signupForm) {
          signupForm.addEventListener("submit", function (e) {
            e.preventDefault();

            // 获取表单数据
            const name = document.getElementById("signup-name").value.trim();
            const email = document.getElementById("signup-email").value.trim();
            const password = document.getElementById("signup-password").value;
            const confirmPassword =
              document.getElementById("signup-confirm").value;

            // 简单验证
            if (!name) {
              alert("请输入您的姓名");
              return;
            }

            if (!email || !validateEmail(email)) {
              alert("请输入有效的邮箱地址");
              return;
            }

            if (!password || password.length < 6) {
              alert("密码长度必须至少为6个字符");
              return;
            }

            if (password !== confirmPassword) {
              alert("两次输入的密码不一致");
              return;
            }

            // 准备注册数据
            const userData = {
              full_name: name,
              email: email,
              password: password,
            };

            // 更新按钮状态
            const submitButton = signupForm.querySelector(
              'button[type="submit"]'
            );
            const originalButtonText = submitButton.textContent;
            submitButton.disabled = true;
            submitButton.innerHTML =
              '<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> 注册中...';

            // 调用注册API
            fetch("http://web.practicesnow.com/practice/v1/users/register", {
              method: "POST",
              credentials: "omit",
              headers: {
                "Content-Type": "application/json",
                Accept: "application/json",
              },
              body: JSON.stringify(userData),
            })
              .then((response) => {
                // 不管状态码如何，先解析JSON响应
                return response.json();
              })
              .then((data) => {
                // 检查status_code是否在200-299范围内
                if (data.status_code >= 200 && data.status_code < 300) {
                  // 注册成功，创建用户对象
                  const user = {
                    id: data.id || generateRandomId(),
                    name: name,
                    email: email,
                    credits: data.credits || 25,
                  };

                  // 保存用户信息
                  currentUser = user;
                  isLoggedIn = true;
                  localStorage.setItem(
                    "currentUser",
                    JSON.stringify(currentUser)
                  );

                  // 关闭注册模态框
                  if (signupModal) {
                    signupModal.classList.remove("active");
                  }

                  // 更新UI
                  updateUIForLoggedInUser();

                  // 显示成功消息
                  alert("注册成功！欢迎，" + name);
                } else {
                  // 注册失败
                  throw new Error(data.error || "注册失败，请稍后重试");
                }
              })
              .catch((error) => {
                // 显示错误消息
                alert(error.message || "注册失败，请稍后重试");
                console.error("注册错误:", error);
              })
              .finally(() => {
                // 恢复按钮状态
                submitButton.disabled = false;
                submitButton.innerHTML = originalButtonText;
              });
          });
        }

        // 生成随机ID的辅助函数
        function generateRandomId() {
          return "user_" + Math.random().toString(36).substr(2, 9);
        }

        // 邮箱验证函数
        function validateEmail(email) {
          const re =
            /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
          return re.test(String(email).toLowerCase());
        }

        // 为输入框添加实时验证
        const loginEmail = document.getElementById("login-email");
        const signupEmail = document.getElementById("signup-email");
        // 重命名避免重复定义
        const forgotEmail = document.getElementById("forgot-email");

        if (loginEmail) {
          loginEmail.addEventListener("input", function () {
            const email = this.value;
            if (email && !validateEmail(email)) {
              displayErrorMessage(
                "login-email",
                "Please enter a valid email address"
              );
            } else {
              clearErrorMessage("login-email");
            }
          });
        }

        if (signupEmail) {
          signupEmail.addEventListener("input", function () {
            const email = this.value;
            if (email && !validateEmail(email)) {
              displayErrorMessage(
                "signup-email",
                "Please enter a valid email address"
              );
            } else {
              clearErrorMessage("signup-email");
            }
          });
        }

        // 为忘记密码输入框添加实时验证
        if (forgotEmail) {
          forgotEmail.addEventListener("input", function () {
            const email = this.value;
            if (email && !validateEmail(email)) {
              displayErrorMessage(
                "forgot-email",
                "Please enter a valid email address"
              );
            } else {
              clearErrorMessage("forgot-email");
            }
          });
        }

        // 为登录邮箱输入框添加blur和focus事件，提供即时验证反馈
        if (loginEmail) {
          // 在输入时验证
          loginEmail.addEventListener("input", function () {
            // 仅当用户已经开始输入时才验证
            if (this.value) {
              if (!validateEmail(this.value)) {
                displayErrorMessage(
                  "login-email",
                  "Please enter a valid email address"
                );
              } else {
                clearErrorMessage("login-email");
              }
            }
          });

          // 当输入框失去焦点时验证
          loginEmail.addEventListener("blur", function () {
            if (this.value && !validateEmail(this.value)) {
              displayErrorMessage(
                "login-email",
                "Please enter a valid email address"
              );
            }
          });

          // 当获得焦点且有错误时，清除错误以便用户重新输入
          loginEmail.addEventListener("focus", function () {
            // 可选：在获得焦点时清除错误，让用户有更好的体验
            // clearErrorMessage("login-email");
          });
        }
      });
    </script>
  </body>
</html>
